[
  {
    "namespace": "icMenupopupApi",
    "types": [
      {
        "id": "IcOnClickData",
        "type": "object",
        "properties": {
          "modifiers": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": ["Shift", "Alt", "Command", "Ctrl", "MacCtrl"]
            },
            "description": "An array of keyboard modifiers that were held while the menu item was clicked."
          }
        }
      }
    ],
    "functions": [
      {
        "name": "createMenupopup",
        "description": "create a menu popup structure in DOM",
        "type": "function",
        "async": true,
        "parameters": [
          {
            "name": "tabId",
            "description": "tab id",
            "type": "any"
          },
          {
            "name": "menuId",
            "description": "menu id",
            "type": "any"
          }
        ]
      },
      {
        "name": "addMenuitem",
        "description": "add a sub menu popup structure to DOM",
        "type": "function",
        "async": true,
        "parameters": [
          {
            "name": "tabId",
            "description": "tab id",
            "type": "any"
          },
          {
            "name": "menuId",
            "description": "menu id",
            "type": "any"
          },
          {
            "name": "menuitemId",
            "description": "menu item id",
            "type": "any"
          },
          {
            "name": "label",
            "description": "menu label",
            "type": "any"
          }
        ]
      }
    ],
    "events": [
      {
        "name": "onMenuClicked",
        "description": "fires when the user clicks on a menu item",
        "type": "function",
        "parameters": [
          {
            "name": "menuitemId",
            "description": "id of the identity that was chosen",
            "type": "string"
          },
          {
            "name": "menuId",
            "description": "id of menu that was clicked on",
            "type": "string"
          },
          {
             "name": "tabId",
             "description": "tab where the menu was clicked",
             "type": "integer"
          },
          {
            "name": "info",
            "optional": true,
            "description": "Information sent when a menu is clicked.",
            "$ref": "IcOnClickData"
          }
        ]
      }
    ]
  }
]
